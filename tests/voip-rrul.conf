## -*- mode: python; coding: utf-8 -*-

include("rrul.conf")
DATA_SETS_RRUL = DATA_SETS
PLOTS_RRUL = PLOTS

include("voip.conf")
DESCRIPTION="VoIP one-way stream test with competing RRUL test"
DEFAULTS={'PLOT': 'totals_loss'}
TOTAL_LENGTH=LENGTH+2*DELAY

DATA_SETS.update(DATA_SETS_RRUL)
PLOTS.update(PLOTS_RRUL)
DATA_SETS['VoIP']['command'] = find_itgsend('VoIP', TOTAL_LENGTH, HOST)
DATA_SETS['VoIP']['duration'] = TOTAL_LENGTH

PLOTS['delay_cdf']['cutoff'] = (DELAY,DELAY)
PLOTS['ping_delay'] = {'description': 'RRUL Ping and VoIP one-way delay',
                       'type': 'timeseries',
                       'axis_labels': ['Latency (ms)'],
                       'series': [{'data': 'Ping (ms) avg',
                                   'label': 'Average ping RTT',
                                   'color': 'blue'},
                                   {'data': 'VoIP::delay',
                                   'label': 'VoIP one-way delay',
                                   'color': 'red'},
                                  {'data': 'VoIP::jitter',
                                   'label': 'VoIP jitter',
                                   'color': 'green'},]}
PLOTS['totals_loss'] = {'description': 'Total TCP bandwidth with ping, delay, jitter and loss',
                        'type': 'meta',
                        'subplots': ('totals_bandwidth', 'ping_delay', 'loss')}
