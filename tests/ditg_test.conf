## -*- mode: python; coding: utf-8 -*-
DESCRIPTION="Realtime Response Under Load"
AGGREGATOR='timeseries'
TOTAL_LENGTH=LENGTH+2*DELAY
DEFAULTS={'PLOT': 'test'}

DATA_SETS=o([
    ('VoIP',
     {'command': find_itgsend('VoIP', LENGTH, HOST),
      'delay': DELAY,
      'duration': LENGTH+DELAY,
      'interval': STEP_SIZE,
      'units': 'Kbps',
      'runner': 'ditg'}
     ),
     ('VoIP::bitrate', {'units': 'Kbps', 'runner': 'null'}),
     ('VoIP::delay', {'units': 'ms', 'runner': 'null'}),
    ])

PLOTS = o([
    ('test',
     {'description': 'Test plot',
      'type': 'timeseries',
      'dual_axes': True,
      'series': [{'data': 'VoIP::bitrate',
                  'label': 'VoIP rate'},
                  {'data': 'VoIP::delay',
                   'label': 'Delay',
                   'axis': 2,
                   'color': 'red'}
                  ]})])
