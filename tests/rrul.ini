[DEFAULT]
; Host to connect to
host=snapon.lab.bufferbloat.net

[global]
; Global options are the options all test instances have in common.


; Binary to run
cmd_binary=netperf

; Command line options passed to the binary
;
; The global cmd_opts are combined for each instance with the cmd_opts of the
; instance, so put options all instances have in common here, and the
; instance-specific ones in the test specification.
cmd_opts=-P 0 -v 0 -D -0.1

; Type of runner used to run (and parse) command
runner=netperf_demo

; Type of aggregator
aggregator=timeseries

; Time step and max interpolation distance
step=0.1
max_distance=0.5

; The name is printed along with the test data
name=Time

; Output formatter. Available output modes: pprint and org_table
output=org_table

plot_title=TCP ping during 8 bidirectional TCP streams
plot_outlier_scaling=true
legend1_title=TCP upload
legend2_title=TCP download
legend3_title=Ping (ms)
x_label=time (s)

[TCP upload BE]
cmd_opts=-Y CS0,CS0 -H %(host)s -t TCP_STREAM -l 60 -f m
delay=5
units=Mbits/s
plot_label=BE
[TCP upload2 BK]
cmd_opts=-Y CS1,CS1 -H %(host)s -t TCP_STREAM -l 60 -f m
delay=5
units=Mbits/s
plot_label=BK
[TCP upload3 CS5]
cmd_opts=-Y CS5,CS5 -H %(host)s -t TCP_STREAM -l 60 -f m
delay=5
units=Mbits/s
plot_label=CS5
[TCP upload4 EF]
cmd_opts=-Y EF,EF -H %(host)s -t TCP_STREAM -l 60 -f m
delay=5
units=Mbits/s
plot_label=EF
[TCP upload avg]
runner=smooth_average
smooth_steps=10
apply_to=TCP upload BE,TCP upload2 BK,TCP upload3 CS5,TCP upload4 EF
plot_line=k-
plot_label=Avg
plot_linewidth=2


[TCP download BE]
cmd_opts=-Y CS0,CS0 -H %(host)s -t TCP_MAERTS -l 60 -f m
delay=5
plot_linewidth=2.0
units=Mbits/s
subplot=2
plot_label=BE

[TCP download2 BK]
cmd_opts=-Y CS1,CS1 -H %(host)s -t TCP_MAERTS -l 60 -f m
delay=5
units=Mbits/s
subplot=2
plot_label=BK

[TCP download3 CS5]
cmd_opts=-Y CS5,CS5 -H %(host)s -t TCP_MAERTS -l 60 -f m
delay=5
units=Mbits/s
subplot=2
plot_label=CS5

[TCP download4 EF]
cmd_opts=-Y EF,EF -H %(host)s -t TCP_MAERTS -l 60 -f m
delay=5
units=Mbits/s
subplot=2
plot_label=EF

[TCP download avg]
runner=smooth_average
smooth_steps=10
apply_to=TCP download BE,TCP download2 BK,TCP download3 CS5,TCP download4 EF
plot_line=k-
plot_label=Avg
plot_linewidth=2
subplot=2

[Ping (ms) TCP EF]
cmd_opts=-Y EF,EF -H %(host)s -t TCP_RR -l 70
data_transform=rr_to_ms
subplot=3
units=ms
plot_label=TCP EF


[Ping (ms) TCP CS1]
cmd_opts=-Y CS1,CS1 -H %(host)s -t TCP_RR -l 70
data_transform=rr_to_ms
subplot=3
units=ms
plot_label=TCP CS1

[Ping (ms) TCP BE]
cmd_opts=-H %(host)s -t TCP_RR -l 70
data_transform=rr_to_ms
subplot=3
units=ms
plot_label=TCP BE

[Ping (ms) UDP EF]
cmd_opts=-Y EF,EF -H %(host)s -t UDP_RR -l 70
data_transform=rr_to_ms
subplot=3
units=ms
plot_label=UDP EF

[Ping (ms) UDP BK]
cmd_opts=-Y CS1,CS1 -H %(host)s -t UDP_RR -l 70
data_transform=rr_to_ms
subplot=2
plot_line=r-
subplot=3
units=ms
plot_label=UDP BK

[Ping (ms) UDP BE]
cmd_opts=-H %(host)s -t UDP_RR -l 70
data_transform=rr_to_ms
subplot=3
units=ms
plot_label=UDP BE

